{"remainingRequest":"/Users/apple/Documents/zm/rc-drag/node_modules/thread-loader/dist/cjs.js??ref--11-1!/Users/apple/Documents/zm/rc-drag/node_modules/docz-core/node_modules/babel-loader/lib/index.js??ref--11-2!/Users/apple/Documents/zm/rc-drag/node_modules/source-map-loader/index.js!/Users/apple/Documents/zm/rc-drag/src/components/index.tsx","dependencies":[{"path":"/Users/apple/Documents/zm/rc-drag/src/components/index.tsx","mtime":1610611255928},{"path":"/Users/apple/Documents/zm/rc-drag/node_modules/cache-loader/dist/cjs.js","mtime":1606639629879},{"path":"/Users/apple/Documents/zm/rc-drag/node_modules/thread-loader/dist/cjs.js","mtime":1606639601926},{"path":"/Users/apple/Documents/zm/rc-drag/node_modules/docz-core/node_modules/babel-loader/lib/index.js","mtime":1608289769558},{"path":"/Users/apple/Documents/zm/rc-drag/node_modules/source-map-loader/index.js","mtime":1608289868913}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL2FwcGxlL0RvY3VtZW50cy96bS9yYy1kcmFnL25vZGVfbW9kdWxlcy9iYWJlbC1wcmVzZXQtcmVhY3QtYXBwL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKaW1wb3J0IF9zbGljZWRUb0FycmF5IGZyb20gIi9Vc2Vycy9hcHBsZS9Eb2N1bWVudHMvem0vcmMtZHJhZy9ub2RlX21vZHVsZXMvYmFiZWwtcHJlc2V0LXJlYWN0LWFwcC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vc2xpY2VkVG9BcnJheSI7CnZhciBfanN4RmlsZU5hbWUgPSAiL1VzZXJzL2FwcGxlL0RvY3VtZW50cy96bS9yYy1kcmFnL3NyYy9jb21wb25lbnRzL2luZGV4LnRzeCI7CgooZnVuY3Rpb24gKCkgewogIHZhciBlbnRlck1vZHVsZSA9IHR5cGVvZiByZWFjdEhvdExvYWRlckdsb2JhbCAhPT0gJ3VuZGVmaW5lZCcgPyByZWFjdEhvdExvYWRlckdsb2JhbC5lbnRlck1vZHVsZSA6IHVuZGVmaW5lZDsKICBlbnRlck1vZHVsZSAmJiBlbnRlck1vZHVsZShtb2R1bGUpOwp9KSgpOwoKdmFyIF9fc2lnbmF0dXJlX18gPSB0eXBlb2YgcmVhY3RIb3RMb2FkZXJHbG9iYWwgIT09ICd1bmRlZmluZWQnID8gcmVhY3RIb3RMb2FkZXJHbG9iYWwuZGVmYXVsdC5zaWduYXR1cmUgOiBmdW5jdGlvbiAoYSkgewogIHJldHVybiBhOwp9OwoKLyogIHJlYWN0IGRyYWcKLyogIGF1dGhvciA6IHh1eGlhb3hpCi8qICBkYXRlICAgOiAyMDIxLTEtMyAyMDoxMDo0MQovKiAgbGFzdCAgIDogMjAyMS0xLTMgMjA6MTA6NDEKKi8KaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlLCB1c2VSZWYsIHVzZUVmZmVjdCwgdXNlQ2FsbGJhY2ssIG1lbW8gfSBmcm9tICdyZWFjdCc7CmltcG9ydCBjbGFzc25hbWVzIGZyb20gJ2NsYXNzbmFtZXMnOwppbXBvcnQgJy4vaW5kZXgubGVzcyc7CgppZiAodHlwZW9mIElQcm9wcyAhPT0gJ3VuZGVmaW5lZCcgJiYgSVByb3BzICYmIElQcm9wcyA9PT0gT2JqZWN0KElQcm9wcykgJiYgT2JqZWN0LmlzRXh0ZW5zaWJsZShJUHJvcHMpKSB7CiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KElQcm9wcywgJ19fZmlsZW1ldGEnLCB7CiAgICBlbnVtZXJhYmxlOiB0cnVlLAogICAgY29uZmlndXJhYmxlOiB0cnVlLAogICAgdmFsdWU6IHsKICAgICAgbmFtZTogIklQcm9wcyIsCiAgICAgIGZpbGVuYW1lOiAic3JjL2NvbXBvbmVudHMvaW5kZXgudHN4IgogICAgfQogIH0pOwp9CgovKioKICog6Ieq55Sx5ouW5ou957uE5Lu2CiAqIEBwYXJhbSB7Y29udGFpbmVyfSDnlLvluIPlhYPntKDmiJbogIXnlLvluINpZAogKiBAcGFyYW0ge3Bvc30g55S75biD5Yid5aeL5YyW5Z2Q5qCHCiAqIEBwYXJhbSB7c2l6ZX0g5YWD57Sg5a696auYCiAqIEBwYXJhbSB7aXNTdGF0aWN9IOaYr+WQpuemgeatouaLluaLvQogKiBAcGFyYW0ge3pJbmRleH0g5bGC57qnCiAqIEBwYXJhbSB7b25EcmFnU3RhcnR9IOm8oOagh+aLluaLveW8gOWniwogKiBAcGFyYW0ge29uRHJhZ1N0b3B9IOm8oOagh+aLluaLvee7k+adnwogKi8KZnVuY3Rpb24gRHJhZyhwcm9wcykgewogIHZhciBfdGhpcyA9IHRoaXM7CgogIHZhciBfcHJvcHMkY29udGFpbmVyID0gcHJvcHMuY29udGFpbmVyLAogICAgICBjb250YWluZXIgPSBfcHJvcHMkY29udGFpbmVyID09PSB2b2lkIDAgPyBkb2N1bWVudC5ib2R5IDogX3Byb3BzJGNvbnRhaW5lciwKICAgICAgX3Byb3BzJHBvcyA9IHByb3BzLnBvcywKICAgICAgcG9zID0gX3Byb3BzJHBvcyA9PT0gdm9pZCAwID8gWzAsIDBdIDogX3Byb3BzJHBvcywKICAgICAgX3Byb3BzJHNpemUgPSBwcm9wcy5zaXplLAogICAgICBzaXplID0gX3Byb3BzJHNpemUgPT09IHZvaWQgMCA/IFsxMDAsIDEwMF0gOiBfcHJvcHMkc2l6ZSwKICAgICAgX3Byb3BzJHpJbmRleCA9IHByb3BzLnpJbmRleCwKICAgICAgekluZGV4ID0gX3Byb3BzJHpJbmRleCA9PT0gdm9pZCAwID8gMSA6IF9wcm9wcyR6SW5kZXgsCiAgICAgIF9wcm9wcyRpc1N0YXRpYyA9IHByb3BzLmlzU3RhdGljLAogICAgICBpc1N0YXRpYyA9IF9wcm9wcyRpc1N0YXRpYyA9PT0gdm9pZCAwID8gZmFsc2UgOiBfcHJvcHMkaXNTdGF0aWMsCiAgICAgIGNoaWxkcmVuID0gcHJvcHMuY2hpbGRyZW4sCiAgICAgIG9uRHJhZ1N0YXJ0ID0gcHJvcHMub25EcmFnU3RhcnQsCiAgICAgIG9uRHJhZ1N0b3AgPSBwcm9wcy5vbkRyYWdTdG9wOwoKICB2YXIgX3VzZVN0YXRlID0gdXNlU3RhdGUoewogICAgbGVmdDogcG9zWzBdLAogICAgdG9wOiBwb3NbMV0sCiAgICB3aWR0aDogc2l6ZVswXSwKICAgIGhlaWdodDogc2l6ZVsxXSwKICAgIHpJbmRleDogekluZGV4CiAgfSksCiAgICAgIF91c2VTdGF0ZTIgPSBfc2xpY2VkVG9BcnJheShfdXNlU3RhdGUsIDIpLAogICAgICBzdHlsZSA9IF91c2VTdGF0ZTJbMF0sCiAgICAgIHNldFN0eWxlID0gX3VzZVN0YXRlMlsxXTsKCiAgdmFyIGRyYWdCb3ggPSB1c2VSZWYobnVsbCk7CiAgdmFyIHBvaW50cyA9IFsnZScsICd3JywgJ3MnLCAnbicsICduZScsICdudycsICdzZScsICdzdyddOyAvLyBpbml0IG9yaWdpbiBwb3NpdG9uCgogIHZhciBvcmlQb3MgPSB1c2VSZWYoewogICAgdG9wOiAwLAogICAgLy8gZWxlbWVudCBwb3NpdGlvbgogICAgbGVmdDogMCwKICAgIGNYOiAwLAogICAgLy8gbW91c2UgcG9zaXRpb24KICAgIGNZOiAwCiAgfSk7CiAgdmFyIGlzRG93biA9IHVzZVJlZihmYWxzZSk7CiAgdmFyIGRpcmVjdGlvbiA9IHVzZVJlZigpOyAvLyBtb3VzZWRvd24KCiAgdmFyIF9vbk1vdXNlRG93biA9IGZ1bmN0aW9uIG9uTW91c2VEb3duKGRpciwgZSkgewogICAgLy8gc3RvcCB0aGUgZXZlbnQgYnViYmxlcwogICAgZS5zdG9wUHJvcGFnYXRpb24oKTsgLy8gc2V0IGxheWVyIGxldmVsCiAgICAvLyBzZXRTdHlsZShwcmV2ID0+ICh7Li4ucHJldiwgekluZGV4OiA5OTk5fSkpCiAgICAvLyBzYXZlIGRpcmVjdGlvbgoKICAgIGRpcmVjdGlvbi5jdXJyZW50ID0gZGlyOwogICAgaXNEb3duLmN1cnJlbnQgPSB0cnVlOwogICAgdmFyIGNZID0gZS5jbGllbnRZOwogICAgdmFyIGNYID0gZS5jbGllbnRYOwogICAgb3JpUG9zLmN1cnJlbnQgPSBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIHN0eWxlKSwge30sIHsKICAgICAgY1g6IGNYLAogICAgICBjWTogY1kKICAgIH0pOwogICAgb25EcmFnU3RhcnQgJiYgb25EcmFnU3RhcnQob3JpUG9zLmN1cnJlbnQpOwogIH07IC8vIG1vdmUgbW91c2UKCgogIHZhciBvbk1vdXNlTW92ZSA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uIChlKSB7CiAgICAvLyBEZXRlcm1pbmUgaWYgdGhlIG1vdXNlIGlzIGhvbGRpbmcgZG93bgogICAgaWYgKCFpc0Rvd24uY3VycmVudCkgcmV0dXJuOwogICAgdmFyIG5ld1N0eWxlID0gdHJhbnNmb3JtKGRpcmVjdGlvbi5jdXJyZW50LCBvcmlQb3MuY3VycmVudCwgZSk7CiAgICBzZXRTdHlsZShuZXdTdHlsZSk7CiAgfSwgW10pOyAvLyBUaGUgbW91c2UgaXMgbGlmdGVkCgogIHZhciBvbk1vdXNlVXAgPSB1c2VDYWxsYmFjayhmdW5jdGlvbiAoZSkgewogICAgaXNEb3duLmN1cnJlbnQgPSBmYWxzZTsKICAgIG9uRHJhZ1N0b3AgJiYgb25EcmFnU3RvcChzdHlsZSk7CiAgfSwgW3N0eWxlXSk7CgogIHZhciBnZXRUYW5EZWcgPSBmdW5jdGlvbiBnZXRUYW5EZWcodGFuKSB7CiAgICB2YXIgcmVzdWx0ID0gTWF0aC5hdGFuKHRhbikgLyAoTWF0aC5QSSAvIDE4MCk7CiAgICByZXN1bHQgPSBNYXRoLnJvdW5kKHJlc3VsdCk7CiAgICByZXR1cm4gcmVzdWx0OwogIH07CgogIGZ1bmN0aW9uIHRyYW5zZm9ybShkaXJlY3Rpb24sIG9yaVBvcywgZSkgewogICAgdmFyIF9kcmFnQm94JGN1cnJlbnQsIF9kcmFnQm94JGN1cnJlbnQyOwoKICAgIHZhciBzdHlsZSA9IF9vYmplY3RTcHJlYWQoe30sIG9yaVBvcyk7CgogICAgdmFyIG9mZnNldFggPSBlLmNsaWVudFggLSBvcmlQb3MuY1g7CiAgICB2YXIgb2Zmc2V0WSA9IGUuY2xpZW50WSAtIG9yaVBvcy5jWTsKCiAgICBzd2l0Y2ggKGRpcmVjdGlvbikgewogICAgICAvLyBtb3ZlCiAgICAgIGNhc2UgJ21vdmUnOgogICAgICAgIC8vIGVsZW1lbnQgcG9zaXRpb24gYW5kIG9mZnNldAogICAgICAgIHZhciB0b3AgPSBvcmlQb3MudG9wICsgb2Zmc2V0WTsKICAgICAgICB2YXIgbGVmdCA9IG9yaVBvcy5sZWZ0ICsgb2Zmc2V0WDsKICAgICAgICB2YXIgd2lkdGggPSAoKF9kcmFnQm94JGN1cnJlbnQgPSBkcmFnQm94LmN1cnJlbnQpID09PSBudWxsIHx8IF9kcmFnQm94JGN1cnJlbnQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9kcmFnQm94JGN1cnJlbnQub2Zmc2V0V2lkdGgpIHx8IDA7CiAgICAgICAgdmFyIGhlaWdodCA9ICgoX2RyYWdCb3gkY3VycmVudDIgPSBkcmFnQm94LmN1cnJlbnQpID09PSBudWxsIHx8IF9kcmFnQm94JGN1cnJlbnQyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZHJhZ0JveCRjdXJyZW50Mi5vZmZzZXRIZWlnaHQpIHx8IDA7IC8vIExpbWl0IHRoZSBoZWlnaHQgb2YgdGhlIGFydGJvYXJkIC0gdGhlIGhlaWdodCBvZiB0aGUgZWxlbWVudCAtIHRoYXQgbXVzdCBiZSBtb3ZlZCB3aXRoaW4gdGhpcyByYW5nZQoKICAgICAgICBzdHlsZS50b3AgPSBNYXRoLm1heCgwLCBNYXRoLm1pbih0b3AsIGhlaWdodCAtIHN0eWxlLmhlaWdodCkpOwogICAgICAgIHN0eWxlLmxlZnQgPSBNYXRoLm1heCgwLCBNYXRoLm1pbihsZWZ0LCB3aWR0aCAtIHN0eWxlLndpZHRoKSk7CiAgICAgICAgYnJlYWs7CiAgICAgIC8vIGVhc3QKCiAgICAgIGNhc2UgJ2UnOgogICAgICAgIC8vIERyYWcgdG8gdGhlIHJpZ2h0IHRvIGFkZCB3aWR0aAogICAgICAgIHN0eWxlLndpZHRoICs9IG9mZnNldFg7CiAgICAgICAgcmV0dXJuIHN0eWxlOwogICAgICAvLyB3ZXN0CgogICAgICBjYXNlICd3JzoKICAgICAgICAvLyBJbmNyZWFzZSB0aGUgd2lkdGgsIHBvc2l0aW9uIHN5bmNocm9uaXphdGlvbiBsZWZ0IHNoaWZ0CiAgICAgICAgc3R5bGUud2lkdGggLT0gb2Zmc2V0WDsKICAgICAgICBzdHlsZS5sZWZ0ICs9IG9mZnNldFg7CiAgICAgICAgcmV0dXJuIHN0eWxlOwogICAgICAvLyBzb3V0aAoKICAgICAgY2FzZSAncyc6CiAgICAgICAgc3R5bGUuaGVpZ2h0ICs9IG9mZnNldFk7CiAgICAgICAgcmV0dXJuIHN0eWxlOwogICAgICAvLyBub3J0aAoKICAgICAgY2FzZSAnbic6CiAgICAgICAgc3R5bGUuaGVpZ2h0IC09IG9mZnNldFk7CiAgICAgICAgc3R5bGUudG9wICs9IG9mZnNldFk7CiAgICAgICAgYnJlYWs7CiAgICAgIC8vIG5vcnRoZWFzdAoKICAgICAgY2FzZSAnbmUnOgogICAgICAgIHN0eWxlLmhlaWdodCAtPSBvZmZzZXRZOwogICAgICAgIHN0eWxlLnRvcCArPSBvZmZzZXRZOwogICAgICAgIHN0eWxlLndpZHRoICs9IG9mZnNldFg7CiAgICAgICAgYnJlYWs7CiAgICAgIC8vIG5vcnRod2VzdAoKICAgICAgY2FzZSAnbncnOgogICAgICAgIHN0eWxlLmhlaWdodCAtPSBvZmZzZXRZOwogICAgICAgIHN0eWxlLnRvcCArPSBvZmZzZXRZOwogICAgICAgIHN0eWxlLndpZHRoIC09IG9mZnNldFg7CiAgICAgICAgc3R5bGUubGVmdCArPSBvZmZzZXRYOwogICAgICAgIGJyZWFrOwogICAgICAvLyBzb3V0aGVhc3QKCiAgICAgIGNhc2UgJ3NlJzoKICAgICAgICBzdHlsZS5oZWlnaHQgKz0gb2Zmc2V0WTsKICAgICAgICBzdHlsZS53aWR0aCArPSBvZmZzZXRYOwogICAgICAgIGJyZWFrOwogICAgICAvLyBzb3V0aHdlc3QKCiAgICAgIGNhc2UgJ3N3JzoKICAgICAgICBzdHlsZS5oZWlnaHQgKz0gb2Zmc2V0WTsKICAgICAgICBzdHlsZS53aWR0aCAtPSBvZmZzZXRYOwogICAgICAgIHN0eWxlLmxlZnQgKz0gb2Zmc2V0WDsKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgJ3JvdGF0ZSc6CiAgICAgICAgLy8gVGhlIGNlbnRlciBwb2ludCBvZiB0aGUgZWxlbWVudCwgeCwgeSwgaXMgY2FsY3VsYXRlZCBhcyB0aGUgY29vcmRpbmF0ZSBvcmlnaW4gZmlyc3QKICAgICAgICB2YXIgeCA9IHN0eWxlLndpZHRoIC8gMiArIHN0eWxlLmxlZnQ7CiAgICAgICAgdmFyIHkgPSBzdHlsZS5oZWlnaHQgLyAyICsgc3R5bGUudG9wOyAvLyBUaGUgY3VycmVudCBtb3VzZSBjb29yZGluYXRlcwoKICAgICAgICB2YXIgeDEgPSBlLmNsaWVudFg7CiAgICAgICAgdmFyIHkxID0gZS5jbGllbnRZOyAvLyBVc2luZyB0cmlhbmd1bGFyIGZ1bmN0aW9ucywgdGhlcmUgYXJlIGJ1Z3MgdG8gb3B0aW1pemUKCiAgICAgICAgc3R5bGUudHJhbnNmb3JtID0gInJvdGF0ZSgiLmNvbmNhdChnZXRUYW5EZWcoKHkxIC0geSkgLyAoeDEgLSB4KSksICJkZWcpIik7CiAgICAgICAgYnJlYWs7CiAgICB9CgogICAgcmV0dXJuIHN0eWxlOwogIH0KCiAgdXNlRWZmZWN0KGZ1bmN0aW9uICgpIHsKICAgIGRyYWdCb3guY3VycmVudCA9IHR5cGVvZiBjb250YWluZXIgPT09ICdvYmplY3QnID8gY29udGFpbmVyIDogZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihjb250YWluZXIpOwoKICAgIGlmIChbJ3JlbGF0aXZlJywgJ2Fic29sdXRlJywgJ2ZpeGVkJ10uaW5kZXhPZihkcmFnQm94LmN1cnJlbnQuc3R5bGUucG9zaXRpb24pIDwgMCkgewogICAgICBkcmFnQm94LmN1cnJlbnQuc3R5bGUucG9zaXRpb24gPSAncmVsYXRpdmUnOwogICAgfQogIH0sIFtdKTsKICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsKICAgIGNsYXNzTmFtZTogImRyYWctaXRlbS13cmFwIiwKICAgIF9fc2VsZjogdGhpcywKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDE5OCwKICAgICAgY29sdW1uTnVtYmVyOiAxMAogICAgfQogIH0sIGlzU3RhdGljID8gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsKICAgIGNsYXNzTmFtZTogIngtZHJhZy1pdGVtIiwKICAgIHN0eWxlOiBzdHlsZSwKICAgIF9fc2VsZjogdGhpcywKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDIwMCwKICAgICAgY29sdW1uTnVtYmVyOiAxOAogICAgfQogIH0sIGNoaWxkcmVuKSA6IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7CiAgICBjbGFzc05hbWU6ICJ4LWRyYWctaXRlbSIsCiAgICBzdHlsZTogc3R5bGUsCiAgICBvbk1vdXNlRG93bjogZnVuY3Rpb24gb25Nb3VzZURvd24oZSkgewogICAgICByZXR1cm4gX29uTW91c2VEb3duKCdtb3ZlJywgZSk7CiAgICB9LAogICAgb25Nb3VzZVVwOiBvbk1vdXNlVXAsCiAgICBvbk1vdXNlTW92ZTogb25Nb3VzZU1vdmUsCiAgICBfX3NlbGY6IHRoaXMsCiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiAyMDIsCiAgICAgIGNvbHVtbk51bWJlcjogOQogICAgfQogIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7CiAgICBjbGFzc05hbWU6ICJ4LWRyYWctaXRlbS1jaGlsZCIsCiAgICBfX3NlbGY6IHRoaXMsCiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiAyMDMsCiAgICAgIGNvbHVtbk51bWJlcjogMTEKICAgIH0KICB9LCBjaGlsZHJlbiksICFpc1N0YXRpYyAmJiBwb2ludHMubWFwKGZ1bmN0aW9uIChpdGVtKSB7CiAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsKICAgICAgY2xhc3NOYW1lOiBjbGFzc25hbWVzKCdjb250cm9sLXBvaW50JywgInBvaW50LSIuY29uY2F0KGl0ZW0pKSwKICAgICAga2V5OiBpdGVtLAogICAgICBvbk1vdXNlRG93bjogZnVuY3Rpb24gb25Nb3VzZURvd24oZSkgewogICAgICAgIHJldHVybiBfb25Nb3VzZURvd24oaXRlbSwgZSk7CiAgICAgIH0sCiAgICAgIF9fc2VsZjogX3RoaXMsCiAgICAgIF9fc291cmNlOiB7CiAgICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgICBsaW5lTnVtYmVyOiAyMDUsCiAgICAgICAgY29sdW1uTnVtYmVyOiA0NQogICAgICB9CiAgICB9KTsKICB9KSkpOwp9CgpfX3NpZ25hdHVyZV9fKERyYWcsICJ1c2VTdGF0ZXtbc3R5bGUsIHNldFN0eWxlXSh7XG4gICAgbGVmdDogcG9zWzBdLFxuICAgIHRvcDogcG9zWzFdLFxuICAgIHdpZHRoOiBzaXplWzBdLFxuICAgIGhlaWdodDogc2l6ZVsxXSxcbiAgICB6SW5kZXhcbiAgfSl9XG51c2VSZWZ7ZHJhZ0JveH1cbnVzZVJlZntvcmlQb3N9XG51c2VSZWZ7aXNEb3dufVxudXNlUmVme2RpcmVjdGlvbn1cbnVzZUNhbGxiYWNre29uTW91c2VNb3ZlfVxudXNlQ2FsbGJhY2t7b25Nb3VzZVVwfVxudXNlRWZmZWN0e30iKTsKCnZhciBfZGVmYXVsdCA9IG1lbW8oRHJhZyk7CgpleHBvcnQgZGVmYXVsdCBfZGVmYXVsdDsKOwoKKGZ1bmN0aW9uICgpIHsKICB2YXIgcmVhY3RIb3RMb2FkZXIgPSB0eXBlb2YgcmVhY3RIb3RMb2FkZXJHbG9iYWwgIT09ICd1bmRlZmluZWQnID8gcmVhY3RIb3RMb2FkZXJHbG9iYWwuZGVmYXVsdCA6IHVuZGVmaW5lZDsKCiAgaWYgKCFyZWFjdEhvdExvYWRlcikgewogICAgcmV0dXJuOwogIH0KCiAgcmVhY3RIb3RMb2FkZXIucmVnaXN0ZXIoRHJhZywgIkRyYWciLCAiL1VzZXJzL2FwcGxlL0RvY3VtZW50cy96bS9yYy1kcmFnL3NyYy9jb21wb25lbnRzL2luZGV4LnRzeCIpOwogIHJlYWN0SG90TG9hZGVyLnJlZ2lzdGVyKF9kZWZhdWx0LCAiZGVmYXVsdCIsICIvVXNlcnMvYXBwbGUvRG9jdW1lbnRzL3ptL3JjLWRyYWcvc3JjL2NvbXBvbmVudHMvaW5kZXgudHN4Iik7Cn0pKCk7Cgo7CgooZnVuY3Rpb24gKCkgewogIHZhciBsZWF2ZU1vZHVsZSA9IHR5cGVvZiByZWFjdEhvdExvYWRlckdsb2JhbCAhPT0gJ3VuZGVmaW5lZCcgPyByZWFjdEhvdExvYWRlckdsb2JhbC5sZWF2ZU1vZHVsZSA6IHVuZGVmaW5lZDsKICBsZWF2ZU1vZHVsZSAmJiBsZWF2ZU1vZHVsZShtb2R1bGUpOwp9KSgpOw=="},{"version":3,"sources":["/Users/apple/Documents/zm/rc-drag/src/components/index.tsx"],"names":["React","useState","useRef","useEffect","useCallback","memo","classnames","Drag","props","container","document","body","pos","size","zIndex","isStatic","children","onDragStart","onDragStop","left","top","width","height","style","setStyle","dragBox","points","oriPos","cX","cY","isDown","direction","onMouseDown","dir","e","stopPropagation","current","clientY","clientX","onMouseMove","newStyle","transform","onMouseUp","getTanDeg","tan","result","Math","atan","PI","round","offsetX","offsetY","offsetWidth","offsetHeight","max","min","x","y","x1","y1","querySelector","indexOf","position","map","item"],"mappings":"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","sourcesContent":["/*  react drag\n/*  author : xuxiaoxi\n/*  date   : 2021-1-3 20:10:41\n/*  last   : 2021-1-3 20:10:41\n*/\n\nimport React, { ReactNode, useState, useRef, useEffect, useCallback, memo } from 'react'\nimport classnames from 'classnames'\nimport './index.less'\n\nexport interface IProps {\n  container: HTMLElement | string;\n  isStatic: boolean;\n  pos: [number, number];\n  size: [number, number];\n  zIndex: number;\n  children: ReactNode;\n  onDragStart: (params) => void;\n  onDragStop: (params) => void;\n}\n\ninterface OriPos {\n  left: number;\n  top: number;\n  cX: number;\n  cY: number;\n  [name:string]: any;\n}\n\ntype PosMap = 'e' | 'w' | 's' | 'n' | 'ne' | 'nw' | 'se' | 'sw' | 'move' | 'rotate' | undefined;\n\n\n/**\n * 自由拖拽组件\n * @param {container} 画布元素或者画布id\n * @param {pos} 画布初始化坐标\n * @param {size} 元素宽高\n * @param {isStatic} 是否禁止拖拽\n * @param {zIndex} 层级\n * @param {onDragStart} 鼠标拖拽开始\n * @param {onDragStop} 鼠标拖拽结束\n */\nfunction Drag(props:IProps) {\n  const {\n    container = document.body,\n    pos = [0,0],\n    size = [100, 100],\n    zIndex = 1,\n    isStatic = false,\n    children,\n    onDragStart,\n    onDragStop\n  } = props\n\n  const [style, setStyle] = useState({\n    left: pos[0],\n    top: pos[1],\n    width: size[0],\n    height: size[1],\n    zIndex\n  })\n\n  const dragBox = useRef<HTMLElement | null>(null);\n  const points = ['e', 'w', 's', 'n', 'ne', 'nw', 'se', 'sw']\n\n  // init origin positon\n  const oriPos = useRef<OriPos>({\n    top: 0, // element position\n    left: 0,\n    cX: 0, // mouse position\n    cY: 0,\n  })\n  const isDown = useRef(false)\n  const direction = useRef<PosMap>()\n\n  // mousedown\n  const onMouseDown = (dir:PosMap, e:React.MouseEvent<HTMLElement>) => {\n    // stop the event bubbles\n    e.stopPropagation();\n    // set layer level\n    // setStyle(prev => ({...prev, zIndex: 9999}))\n\n    // save direction\n    direction.current = dir;\n    isDown.current = true;\n\n    const cY = e.clientY;\n    const cX = e.clientX;\n    oriPos.current = {\n      ...style,\n      cX, cY\n    }\n    onDragStart && onDragStart(oriPos.current)\n  }\n\n  // move mouse\n  const onMouseMove = useCallback((e) => {\n    // Determine if the mouse is holding down\n    if (!isDown.current) return\n    let newStyle = transform(direction.current, oriPos.current, e);\n    setStyle(newStyle as any)\n  }, [])\n\n  // The mouse is lifted\n  const onMouseUp = useCallback((e) => {\n    isDown.current = false;\n    onDragStop && onDragStop(style)\n  }, [style])\n\n  const getTanDeg = (tan:number) => {\n    var result = Math.atan(tan) / (Math.PI / 180);\n    result = Math.round(result);\n    return result;\n  }\n\n  function transform(direction: PosMap, oriPos:OriPos, e:React.MouseEvent<HTMLElement>) {\n    const style = {...oriPos}\n    const offsetX = e.clientX - oriPos.cX;\n    const offsetY = e.clientY - oriPos.cY;\n\n    switch (direction) {\n      // move\n      case 'move' :\n          // element position and offset\n          const top = oriPos.top + offsetY;\n          const left = oriPos.left + offsetX;\n          const width = dragBox.current?.offsetWidth || 0;\n          const height = dragBox.current?.offsetHeight || 0;\n          // Limit the height of the artboard - the height of the element - that must be moved within this range\n          style.top = Math.max(0, Math.min(top, height - style.height));\n          style.left = Math.max(0, Math.min(left, width - style.width));\n          break\n      // east\n      case 'e':\n          // Drag to the right to add width\n          style.width += offsetX;\n          return style\n      // west\n      case 'w':\n        // Increase the width, position synchronization left shift\n        style.width -= offsetX;\n        style.left += offsetX;\n        return style\n      // south\n      case 's':\n          style.height += offsetY;\n          return style\n      // north\n      case 'n':\n          style.height -= offsetY;\n          style.top += offsetY;\n          break\n      // northeast\n      case 'ne':\n          style.height -= offsetY;\n          style.top += offsetY;\n          style.width += offsetX;\n          break\n      // northwest\n      case 'nw':\n          style.height -= offsetY;\n          style.top += offsetY;\n          style.width -= offsetX;\n          style.left += offsetX; \n          break\n      // southeast\n      case 'se':\n          style.height += offsetY;\n          style.width += offsetX;\n          break\n      // southwest\n      case 'sw':\n          style.height += offsetY;\n          style.width -= offsetX;\n          style.left += offsetX;\n          break\n      case 'rotate':\n        // The center point of the element, x, y, is calculated as the coordinate origin first\n        const x = style.width / 2 + style.left;\n        const y = style.height / 2 + style.top;\n        // The current mouse coordinates\n        const x1 = e.clientX;\n        const y1 = e.clientY;\n        // Using triangular functions, there are bugs to optimize\n        style.transform = `rotate(${getTanDeg((y1 - y) / (x1 - x))}deg)`;\n        break\n    }\n    return style\n  }\n\n  useEffect(() => {\n    dragBox.current = (typeof container === 'object' ? container : document.querySelector(container)) as HTMLElement;\n    if(['relative', 'absolute', 'fixed'].indexOf(dragBox.current.style.position) < 0) {\n      dragBox.current.style.position = 'relative';\n    }\n  }, [])\n  \n  return <div className=\"drag-item-wrap\">\n    {\n      isStatic ? <div className=\"x-drag-item\" style={style}>{ children }</div>\n        :\n        <div className=\"x-drag-item\" style={style} onMouseDown={(e) => onMouseDown('move', e)} onMouseUp={onMouseUp} onMouseMove={onMouseMove}>\n          <div className=\"x-drag-item-child\">{ children }</div>\n          {\n            !isStatic && points.map(item => <div className={classnames('control-point', `point-${item}`)} key={item} onMouseDown={(e:React.MouseEvent<HTMLElement>) => onMouseDown(item as PosMap, e)}></div>)\n          }\n        </div>\n    }\n  </div>\n}\n\nexport default memo(Drag)\n\n"]}]}