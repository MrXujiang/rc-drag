{"remainingRequest":"/Users/apple/Documents/zm/cp/node_modules/thread-loader/dist/cjs.js??ref--11-1!/Users/apple/Documents/zm/cp/node_modules/docz-core/node_modules/babel-loader/lib/index.js??ref--11-2!/Users/apple/Documents/zm/cp/node_modules/source-map-loader/index.js!/Users/apple/Documents/zm/cp/src/components/index.tsx","dependencies":[{"path":"/Users/apple/Documents/zm/cp/src/components/index.tsx","mtime":1610539878263},{"path":"/Users/apple/Documents/zm/cp/node_modules/cache-loader/dist/cjs.js","mtime":1606639629879},{"path":"/Users/apple/Documents/zm/cp/node_modules/thread-loader/dist/cjs.js","mtime":1606639601926},{"path":"/Users/apple/Documents/zm/cp/node_modules/docz-core/node_modules/babel-loader/lib/index.js","mtime":1608289769558},{"path":"/Users/apple/Documents/zm/cp/node_modules/source-map-loader/index.js","mtime":1608289868913}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL2FwcGxlL0RvY3VtZW50cy96bS9jcC9ub2RlX21vZHVsZXMvYmFiZWwtcHJlc2V0LXJlYWN0LWFwcC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7CmltcG9ydCBfc2xpY2VkVG9BcnJheSBmcm9tICIvVXNlcnMvYXBwbGUvRG9jdW1lbnRzL3ptL2NwL25vZGVfbW9kdWxlcy9iYWJlbC1wcmVzZXQtcmVhY3QtYXBwL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9zbGljZWRUb0FycmF5IjsKdmFyIF9qc3hGaWxlTmFtZSA9ICIvVXNlcnMvYXBwbGUvRG9jdW1lbnRzL3ptL2NwL3NyYy9jb21wb25lbnRzL2luZGV4LnRzeCI7CgooZnVuY3Rpb24gKCkgewogIHZhciBlbnRlck1vZHVsZSA9IHR5cGVvZiByZWFjdEhvdExvYWRlckdsb2JhbCAhPT0gJ3VuZGVmaW5lZCcgPyByZWFjdEhvdExvYWRlckdsb2JhbC5lbnRlck1vZHVsZSA6IHVuZGVmaW5lZDsKICBlbnRlck1vZHVsZSAmJiBlbnRlck1vZHVsZShtb2R1bGUpOwp9KSgpOwoKdmFyIF9fc2lnbmF0dXJlX18gPSB0eXBlb2YgcmVhY3RIb3RMb2FkZXJHbG9iYWwgIT09ICd1bmRlZmluZWQnID8gcmVhY3RIb3RMb2FkZXJHbG9iYWwuZGVmYXVsdC5zaWduYXR1cmUgOiBmdW5jdGlvbiAoYSkgewogIHJldHVybiBhOwp9OwoKLyogIHJlYWN0IGRyYWcKLyogIGF1dGhvciA6IHh1eGlhb3hpCi8qICBkYXRlICAgOiAyMDIxLTEtMyAyMDoxMDo0MQovKiAgbGFzdCAgIDogMjAyMS0xLTMgMjA6MTA6NDEKKi8KaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlLCB1c2VSZWYsIHVzZUVmZmVjdCwgdXNlQ2FsbGJhY2ssIG1lbW8gfSBmcm9tICdyZWFjdCc7CmltcG9ydCBjbGFzc25hbWVzIGZyb20gJ2NsYXNzbmFtZXMnOwppbXBvcnQgJy4vaW5kZXgubGVzcyc7CgppZiAodHlwZW9mIElQcm9wcyAhPT0gJ3VuZGVmaW5lZCcgJiYgSVByb3BzICYmIElQcm9wcyA9PT0gT2JqZWN0KElQcm9wcykgJiYgT2JqZWN0LmlzRXh0ZW5zaWJsZShJUHJvcHMpKSB7CiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KElQcm9wcywgJ19fZmlsZW1ldGEnLCB7CiAgICBlbnVtZXJhYmxlOiB0cnVlLAogICAgY29uZmlndXJhYmxlOiB0cnVlLAogICAgdmFsdWU6IHsKICAgICAgbmFtZTogIklQcm9wcyIsCiAgICAgIGZpbGVuYW1lOiAic3JjL2NvbXBvbmVudHMvaW5kZXgudHN4IgogICAgfQogIH0pOwp9CgovKioKICog6Ieq55Sx5ouW5ou957uE5Lu2CiAqIEBwYXJhbSB7Y29udGFpbmVyfSDnlLvluIPlhYPntKDmiJbogIXnlLvluINpZAogKiBAcGFyYW0ge3Bvc30g55S75biD5Yid5aeL5YyW5Z2Q5qCHCiAqIEBwYXJhbSB7c2l6ZX0g5YWD57Sg5a696auYCiAqIEBwYXJhbSB7aXNTdGF0aWN9IOaYr+WQpuemgeatouaLluaLvQogKiBAcGFyYW0ge3pJbmRleH0g5bGC57qnCiAqIEBwYXJhbSB7Y2xvc2V9IOiHquWumuS5ieWFs+mXreaMiemSrgogKiBAcGFyYW0ge29uQ2xvc2V9IOWFs+mXreaXtuinpuWPkeeahOS6i+S7tgogKi8KZnVuY3Rpb24gRHJhZyhwcm9wcykgewogIHZhciBfdGhpcyA9IHRoaXM7CgogIHZhciBfcHJvcHMkY29udGFpbmVyID0gcHJvcHMuY29udGFpbmVyLAogICAgICBjb250YWluZXIgPSBfcHJvcHMkY29udGFpbmVyID09PSB2b2lkIDAgPyBkb2N1bWVudC5ib2R5IDogX3Byb3BzJGNvbnRhaW5lciwKICAgICAgX3Byb3BzJHBvcyA9IHByb3BzLnBvcywKICAgICAgcG9zID0gX3Byb3BzJHBvcyA9PT0gdm9pZCAwID8gWzAsIDBdIDogX3Byb3BzJHBvcywKICAgICAgX3Byb3BzJHNpemUgPSBwcm9wcy5zaXplLAogICAgICBzaXplID0gX3Byb3BzJHNpemUgPT09IHZvaWQgMCA/IFsxMDAsIDEwMF0gOiBfcHJvcHMkc2l6ZSwKICAgICAgX3Byb3BzJHpJbmRleCA9IHByb3BzLnpJbmRleCwKICAgICAgekluZGV4ID0gX3Byb3BzJHpJbmRleCA9PT0gdm9pZCAwID8gMSA6IF9wcm9wcyR6SW5kZXgsCiAgICAgIF9wcm9wcyRpc1N0YXRpYyA9IHByb3BzLmlzU3RhdGljLAogICAgICBpc1N0YXRpYyA9IF9wcm9wcyRpc1N0YXRpYyA9PT0gdm9pZCAwID8gZmFsc2UgOiBfcHJvcHMkaXNTdGF0aWMsCiAgICAgIGNsb3NlID0gcHJvcHMuY2xvc2UsCiAgICAgIGNoaWxkcmVuID0gcHJvcHMuY2hpbGRyZW4sCiAgICAgIG9uQ2xvc2UgPSBwcm9wcy5vbkNsb3NlOwoKICB2YXIgX3VzZVN0YXRlID0gdXNlU3RhdGUoewogICAgbGVmdDogcG9zWzBdLAogICAgdG9wOiBwb3NbMV0sCiAgICB3aWR0aDogc2l6ZVswXSwKICAgIGhlaWdodDogc2l6ZVsxXSwKICAgIHpJbmRleDogekluZGV4CiAgfSksCiAgICAgIF91c2VTdGF0ZTIgPSBfc2xpY2VkVG9BcnJheShfdXNlU3RhdGUsIDIpLAogICAgICBzdHlsZSA9IF91c2VTdGF0ZTJbMF0sCiAgICAgIHNldFN0eWxlID0gX3VzZVN0YXRlMlsxXTsKCiAgdmFyIGRyYWdCb3ggPSB1c2VSZWYobnVsbCk7CiAgdmFyIHBvaW50cyA9IFsnZScsICd3JywgJ3MnLCAnbicsICduZScsICdudycsICdzZScsICdzdyddOyAvLyBpbml0IG9yaWdpbiBwb3NpdG9uCgogIHZhciBvcmlQb3MgPSB1c2VSZWYoewogICAgdG9wOiAwLAogICAgLy8gZWxlbWVudCBwb3NpdGlvbgogICAgbGVmdDogMCwKICAgIGNYOiAwLAogICAgLy8gbW91c2UgcG9zaXRpb24KICAgIGNZOiAwCiAgfSk7CiAgdmFyIGlzRG93biA9IHVzZVJlZihmYWxzZSk7CiAgdmFyIGRpcmVjdGlvbiA9IHVzZVJlZigpOyAvLyBtb3VzZWRvd24KCiAgdmFyIF9vbk1vdXNlRG93biA9IGZ1bmN0aW9uIG9uTW91c2VEb3duKGRpciwgZSkgewogICAgLy8gc3RvcCB0aGUgZXZlbnQgYnViYmxlcwogICAgZS5zdG9wUHJvcGFnYXRpb24oKTsgLy8gc2F2ZSBkaXJlY3Rpb24KCiAgICBkaXJlY3Rpb24uY3VycmVudCA9IGRpcjsKICAgIGlzRG93bi5jdXJyZW50ID0gdHJ1ZTsKICAgIHZhciBjWSA9IGUuY2xpZW50WTsKICAgIHZhciBjWCA9IGUuY2xpZW50WDsKICAgIG9yaVBvcy5jdXJyZW50ID0gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBzdHlsZSksIHt9LCB7CiAgICAgIGNYOiBjWCwKICAgICAgY1k6IGNZCiAgICB9KTsKICB9OyAvLyBtb3ZlIG1vdXNlCgoKICB2YXIgb25Nb3VzZU1vdmUgPSB1c2VDYWxsYmFjayhmdW5jdGlvbiAoZSkgewogICAgLy8gRGV0ZXJtaW5lIGlmIHRoZSBtb3VzZSBpcyBob2xkaW5nIGRvd24KICAgIGlmICghaXNEb3duLmN1cnJlbnQpIHJldHVybjsKICAgIHZhciBuZXdTdHlsZSA9IHRyYW5zZm9ybShkaXJlY3Rpb24uY3VycmVudCwgb3JpUG9zLmN1cnJlbnQsIGUpOwogICAgc2V0U3R5bGUobmV3U3R5bGUpOwogIH0sIFtdKTsgLy8gVGhlIG1vdXNlIGlzIGxpZnRlZAoKICB2YXIgb25Nb3VzZVVwID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gKGUpIHsKICAgIGlzRG93bi5jdXJyZW50ID0gZmFsc2U7CiAgfSwgW10pOwoKICB2YXIgZ2V0VGFuRGVnID0gZnVuY3Rpb24gZ2V0VGFuRGVnKHRhbikgewogICAgdmFyIHJlc3VsdCA9IE1hdGguYXRhbih0YW4pIC8gKE1hdGguUEkgLyAxODApOwogICAgcmVzdWx0ID0gTWF0aC5yb3VuZChyZXN1bHQpOwogICAgcmV0dXJuIHJlc3VsdDsKICB9OwoKICBmdW5jdGlvbiB0cmFuc2Zvcm0oZGlyZWN0aW9uLCBvcmlQb3MsIGUpIHsKICAgIHZhciBfZHJhZ0JveCRjdXJyZW50LCBfZHJhZ0JveCRjdXJyZW50MjsKCiAgICB2YXIgc3R5bGUgPSBfb2JqZWN0U3ByZWFkKHt9LCBvcmlQb3MpOwoKICAgIHZhciBvZmZzZXRYID0gZS5jbGllbnRYIC0gb3JpUG9zLmNYOwogICAgdmFyIG9mZnNldFkgPSBlLmNsaWVudFkgLSBvcmlQb3MuY1k7CgogICAgc3dpdGNoIChkaXJlY3Rpb24pIHsKICAgICAgLy8gbW92ZQogICAgICBjYXNlICdtb3ZlJzoKICAgICAgICAvLyBlbGVtZW50IHBvc2l0aW9uIGFuZCBvZmZzZXQKICAgICAgICB2YXIgdG9wID0gb3JpUG9zLnRvcCArIG9mZnNldFk7CiAgICAgICAgdmFyIGxlZnQgPSBvcmlQb3MubGVmdCArIG9mZnNldFg7CiAgICAgICAgdmFyIHdpZHRoID0gKChfZHJhZ0JveCRjdXJyZW50ID0gZHJhZ0JveC5jdXJyZW50KSA9PT0gbnVsbCB8fCBfZHJhZ0JveCRjdXJyZW50ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZHJhZ0JveCRjdXJyZW50Lm9mZnNldFdpZHRoKSB8fCAwOwogICAgICAgIHZhciBoZWlnaHQgPSAoKF9kcmFnQm94JGN1cnJlbnQyID0gZHJhZ0JveC5jdXJyZW50KSA9PT0gbnVsbCB8fCBfZHJhZ0JveCRjdXJyZW50MiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2RyYWdCb3gkY3VycmVudDIub2Zmc2V0SGVpZ2h0KSB8fCAwOyAvLyBMaW1pdCB0aGUgaGVpZ2h0IG9mIHRoZSBhcnRib2FyZCAtIHRoZSBoZWlnaHQgb2YgdGhlIGVsZW1lbnQgLSB0aGF0IG11c3QgYmUgbW92ZWQgd2l0aGluIHRoaXMgcmFuZ2UKCiAgICAgICAgc3R5bGUudG9wID0gTWF0aC5tYXgoMCwgTWF0aC5taW4odG9wLCBoZWlnaHQgLSBzdHlsZS5oZWlnaHQpKTsKICAgICAgICBzdHlsZS5sZWZ0ID0gTWF0aC5tYXgoMCwgTWF0aC5taW4obGVmdCwgd2lkdGggLSBzdHlsZS53aWR0aCkpOwogICAgICAgIGJyZWFrOwogICAgICAvLyBlYXN0CgogICAgICBjYXNlICdlJzoKICAgICAgICAvLyBEcmFnIHRvIHRoZSByaWdodCB0byBhZGQgd2lkdGgKICAgICAgICBzdHlsZS53aWR0aCArPSBvZmZzZXRYOwogICAgICAgIHJldHVybiBzdHlsZTsKICAgICAgLy8gd2VzdAoKICAgICAgY2FzZSAndyc6CiAgICAgICAgLy8gSW5jcmVhc2UgdGhlIHdpZHRoLCBwb3NpdGlvbiBzeW5jaHJvbml6YXRpb24gbGVmdCBzaGlmdAogICAgICAgIHN0eWxlLndpZHRoIC09IG9mZnNldFg7CiAgICAgICAgc3R5bGUubGVmdCArPSBvZmZzZXRYOwogICAgICAgIHJldHVybiBzdHlsZTsKICAgICAgLy8gc291dGgKCiAgICAgIGNhc2UgJ3MnOgogICAgICAgIHN0eWxlLmhlaWdodCArPSBvZmZzZXRZOwogICAgICAgIHJldHVybiBzdHlsZTsKICAgICAgLy8gbm9ydGgKCiAgICAgIGNhc2UgJ24nOgogICAgICAgIHN0eWxlLmhlaWdodCAtPSBvZmZzZXRZOwogICAgICAgIHN0eWxlLnRvcCArPSBvZmZzZXRZOwogICAgICAgIGJyZWFrOwogICAgICAvLyBub3J0aGVhc3QKCiAgICAgIGNhc2UgJ25lJzoKICAgICAgICBzdHlsZS5oZWlnaHQgLT0gb2Zmc2V0WTsKICAgICAgICBzdHlsZS50b3AgKz0gb2Zmc2V0WTsKICAgICAgICBzdHlsZS53aWR0aCArPSBvZmZzZXRYOwogICAgICAgIGJyZWFrOwogICAgICAvLyBub3J0aHdlc3QKCiAgICAgIGNhc2UgJ253JzoKICAgICAgICBzdHlsZS5oZWlnaHQgLT0gb2Zmc2V0WTsKICAgICAgICBzdHlsZS50b3AgKz0gb2Zmc2V0WTsKICAgICAgICBzdHlsZS53aWR0aCAtPSBvZmZzZXRYOwogICAgICAgIHN0eWxlLmxlZnQgKz0gb2Zmc2V0WDsKICAgICAgICBicmVhazsKICAgICAgLy8gc291dGhlYXN0CgogICAgICBjYXNlICdzZSc6CiAgICAgICAgc3R5bGUuaGVpZ2h0ICs9IG9mZnNldFk7CiAgICAgICAgc3R5bGUud2lkdGggKz0gb2Zmc2V0WDsKICAgICAgICBicmVhazsKICAgICAgLy8gc291dGh3ZXN0CgogICAgICBjYXNlICdzdyc6CiAgICAgICAgc3R5bGUuaGVpZ2h0ICs9IG9mZnNldFk7CiAgICAgICAgc3R5bGUud2lkdGggLT0gb2Zmc2V0WDsKICAgICAgICBzdHlsZS5sZWZ0ICs9IG9mZnNldFg7CiAgICAgICAgYnJlYWs7CgogICAgICBjYXNlICdyb3RhdGUnOgogICAgICAgIC8vIFRoZSBjZW50ZXIgcG9pbnQgb2YgdGhlIGVsZW1lbnQsIHgsIHksIGlzIGNhbGN1bGF0ZWQgYXMgdGhlIGNvb3JkaW5hdGUgb3JpZ2luIGZpcnN0CiAgICAgICAgdmFyIHggPSBzdHlsZS53aWR0aCAvIDIgKyBzdHlsZS5sZWZ0OwogICAgICAgIHZhciB5ID0gc3R5bGUuaGVpZ2h0IC8gMiArIHN0eWxlLnRvcDsgLy8gVGhlIGN1cnJlbnQgbW91c2UgY29vcmRpbmF0ZXMKCiAgICAgICAgdmFyIHgxID0gZS5jbGllbnRYOwogICAgICAgIHZhciB5MSA9IGUuY2xpZW50WTsgLy8gVXNpbmcgdHJpYW5ndWxhciBmdW5jdGlvbnMsIHRoZXJlIGFyZSBidWdzIHRvIG9wdGltaXplCgogICAgICAgIHN0eWxlLnRyYW5zZm9ybSA9ICJyb3RhdGUoIi5jb25jYXQoZ2V0VGFuRGVnKCh5MSAtIHkpIC8gKHgxIC0geCkpLCAiZGVnKSIpOwogICAgICAgIGJyZWFrOwogICAgfQoKICAgIHJldHVybiBzdHlsZTsKICB9CgogIHVzZUVmZmVjdChmdW5jdGlvbiAoKSB7CiAgICBkcmFnQm94LmN1cnJlbnQgPSB0eXBlb2YgY29udGFpbmVyID09PSAnb2JqZWN0JyA/IGNvbnRhaW5lciA6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY29udGFpbmVyKTsKCiAgICBpZiAoWydyZWxhdGl2ZScsICdhYnNvbHV0ZScsICdmaXhlZCddLmluZGV4T2YoZHJhZ0JveC5jdXJyZW50LnN0eWxlLnBvc2l0aW9uKSA8IDApIHsKICAgICAgZHJhZ0JveC5jdXJyZW50LnN0eWxlLnBvc2l0aW9uID0gJ3JlbGF0aXZlJzsKICAgIH0KCiAgICBkcmFnQm94LmN1cnJlbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIG9uTW91c2VVcCwgZmFsc2UpOwogICAgZHJhZ0JveC5jdXJyZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIG9uTW91c2VNb3ZlLCBmYWxzZSk7CiAgICByZXR1cm4gZnVuY3Rpb24gKCkgey8vIHJlbW92ZSBsaXN0ZW5lcgogICAgfTsKICB9LCBbXSk7CiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7CiAgICBjbGFzc05hbWU6ICJkcmFnLWl0ZW0td3JhcCIsCiAgICBfX3NlbGY6IHRoaXMsCiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiAxOTgsCiAgICAgIGNvbHVtbk51bWJlcjogMTAKICAgIH0KICB9LCBpc1N0YXRpYyA/IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7CiAgICBjbGFzc05hbWU6ICJ4LWRyYWctaXRlbSIsCiAgICBzdHlsZTogc3R5bGUsCiAgICBfX3NlbGY6IHRoaXMsCiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiAyMDAsCiAgICAgIGNvbHVtbk51bWJlcjogMTgKICAgIH0KICB9LCBjaGlsZHJlbikgOiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgewogICAgY2xhc3NOYW1lOiAieC1kcmFnLWl0ZW0iLAogICAgc3R5bGU6IHN0eWxlLAogICAgb25Nb3VzZURvd246IGZ1bmN0aW9uIG9uTW91c2VEb3duKGUpIHsKICAgICAgcmV0dXJuIF9vbk1vdXNlRG93bignbW92ZScsIGUpOwogICAgfSwKICAgIF9fc2VsZjogdGhpcywKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDIwMiwKICAgICAgY29sdW1uTnVtYmVyOiA5CiAgICB9CiAgfSwgY2hpbGRyZW4sICFpc1N0YXRpYyAmJiBwb2ludHMubWFwKGZ1bmN0aW9uIChpdGVtKSB7CiAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsKICAgICAgY2xhc3NOYW1lOiBjbGFzc25hbWVzKCdjb250cm9sLXBvaW50JywgInBvaW50LSIuY29uY2F0KGl0ZW0pKSwKICAgICAga2V5OiBpdGVtLAogICAgICBvbk1vdXNlRG93bjogZnVuY3Rpb24gb25Nb3VzZURvd24oZSkgewogICAgICAgIHJldHVybiBfb25Nb3VzZURvd24oaXRlbSwgZSk7CiAgICAgIH0sCiAgICAgIF9fc2VsZjogX3RoaXMsCiAgICAgIF9fc291cmNlOiB7CiAgICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgICBsaW5lTnVtYmVyOiAyMDUsCiAgICAgICAgY29sdW1uTnVtYmVyOiA0NQogICAgICB9CiAgICB9KTsKICB9KSkpOwp9CgpfX3NpZ25hdHVyZV9fKERyYWcsICJ1c2VTdGF0ZXtbc3R5bGUsIHNldFN0eWxlXSh7XG4gICAgbGVmdDogcG9zWzBdLFxuICAgIHRvcDogcG9zWzFdLFxuICAgIHdpZHRoOiBzaXplWzBdLFxuICAgIGhlaWdodDogc2l6ZVsxXSxcbiAgICB6SW5kZXhcbiAgfSl9XG51c2VSZWZ7ZHJhZ0JveH1cbnVzZVJlZntvcmlQb3N9XG51c2VSZWZ7aXNEb3dufVxudXNlUmVme2RpcmVjdGlvbn1cbnVzZUNhbGxiYWNre29uTW91c2VNb3ZlfVxudXNlQ2FsbGJhY2t7b25Nb3VzZVVwfVxudXNlRWZmZWN0e30iKTsKCnZhciBfZGVmYXVsdCA9IG1lbW8oRHJhZyk7CgpleHBvcnQgZGVmYXVsdCBfZGVmYXVsdDsKOwoKKGZ1bmN0aW9uICgpIHsKICB2YXIgcmVhY3RIb3RMb2FkZXIgPSB0eXBlb2YgcmVhY3RIb3RMb2FkZXJHbG9iYWwgIT09ICd1bmRlZmluZWQnID8gcmVhY3RIb3RMb2FkZXJHbG9iYWwuZGVmYXVsdCA6IHVuZGVmaW5lZDsKCiAgaWYgKCFyZWFjdEhvdExvYWRlcikgewogICAgcmV0dXJuOwogIH0KCiAgcmVhY3RIb3RMb2FkZXIucmVnaXN0ZXIoRHJhZywgIkRyYWciLCAiL1VzZXJzL2FwcGxlL0RvY3VtZW50cy96bS9jcC9zcmMvY29tcG9uZW50cy9pbmRleC50c3giKTsKICByZWFjdEhvdExvYWRlci5yZWdpc3RlcihfZGVmYXVsdCwgImRlZmF1bHQiLCAiL1VzZXJzL2FwcGxlL0RvY3VtZW50cy96bS9jcC9zcmMvY29tcG9uZW50cy9pbmRleC50c3giKTsKfSkoKTsKCjsKCihmdW5jdGlvbiAoKSB7CiAgdmFyIGxlYXZlTW9kdWxlID0gdHlwZW9mIHJlYWN0SG90TG9hZGVyR2xvYmFsICE9PSAndW5kZWZpbmVkJyA/IHJlYWN0SG90TG9hZGVyR2xvYmFsLmxlYXZlTW9kdWxlIDogdW5kZWZpbmVkOwogIGxlYXZlTW9kdWxlICYmIGxlYXZlTW9kdWxlKG1vZHVsZSk7Cn0pKCk7"},{"version":3,"sources":["/Users/apple/Documents/zm/cp/src/components/index.tsx"],"names":["React","useState","useRef","useEffect","useCallback","memo","classnames","Drag","props","container","document","body","pos","size","zIndex","isStatic","close","children","onClose","left","top","width","height","style","setStyle","dragBox","points","oriPos","cX","cY","isDown","direction","onMouseDown","dir","e","stopPropagation","current","clientY","clientX","onMouseMove","newStyle","transform","onMouseUp","getTanDeg","tan","result","Math","atan","PI","round","offsetX","offsetY","offsetWidth","offsetHeight","max","min","x","y","x1","y1","querySelector","indexOf","position","addEventListener","map","item"],"mappings":"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","sourcesContent":["/*  react drag\n/*  author : xuxiaoxi\n/*  date   : 2021-1-3 20:10:41\n/*  last   : 2021-1-3 20:10:41\n*/\n\nimport React, { ReactNode, useState, useRef, useEffect, useCallback, memo } from 'react'\nimport classnames from 'classnames'\nimport './index.less'\n\nexport interface IProps {\n  container: HTMLElement | string;\n  isStatic: boolean;\n  pos: [number, number];\n  size: [number, number];\n  zIndex: number;\n  close: boolean;\n  children: ReactNode;\n  onClose: () => void;\n}\n\ninterface OriPos {\n  left: number;\n  top: number;\n  cX: number;\n  cY: number;\n  [name:string]: any;\n}\n\ntype PosMap = 'e' | 'w' | 's' | 'n' | 'ne' | 'nw' | 'se' | 'sw' | 'move' | 'rotate' | undefined;\n\n\n/**\n * 自由拖拽组件\n * @param {container} 画布元素或者画布id\n * @param {pos} 画布初始化坐标\n * @param {size} 元素宽高\n * @param {isStatic} 是否禁止拖拽\n * @param {zIndex} 层级\n * @param {close} 自定义关闭按钮\n * @param {onClose} 关闭时触发的事件\n */\nfunction Drag(props:IProps) {\n  const {\n    container = document.body,\n    pos = [0,0],\n    size = [100, 100],\n    zIndex = 1,\n    isStatic = false,\n    close,\n    children,\n    onClose\n  } = props\n\n  const [style, setStyle] = useState({\n    left: pos[0],\n    top: pos[1],\n    width: size[0],\n    height: size[1],\n    zIndex\n  })\n\n  const dragBox = useRef<HTMLElement | null>(null);\n  const points = ['e', 'w', 's', 'n', 'ne', 'nw', 'se', 'sw']\n\n  // init origin positon\n  const oriPos = useRef<OriPos>({\n    top: 0, // element position\n    left: 0,\n    cX: 0, // mouse position\n    cY: 0,\n  })\n  const isDown = useRef(false)\n  const direction = useRef<PosMap>()\n\n  // mousedown\n  const onMouseDown = (dir:PosMap, e:React.MouseEvent<HTMLElement>) => {\n    // stop the event bubbles\n    e.stopPropagation();\n    // save direction\n    direction.current = dir;\n    isDown.current = true;\n\n    const cY = e.clientY;\n    const cX = e.clientX;\n    oriPos.current = {\n      ...style,\n      cX, cY\n    }\n  }\n\n  // move mouse\n  const onMouseMove = useCallback((e) => {\n    // Determine if the mouse is holding down\n    if (!isDown.current) return\n    let newStyle = transform(direction.current, oriPos.current, e);\n    setStyle(newStyle as any)\n  }, [])\n\n  // The mouse is lifted\n  const onMouseUp = useCallback((e) => {\n    isDown.current = false;\n  }, [])\n\n  const getTanDeg = (tan:number) => {\n    var result = Math.atan(tan) / (Math.PI / 180);\n    result = Math.round(result);\n    return result;\n  }\n\n  function transform(direction: PosMap, oriPos:OriPos, e:React.MouseEvent<HTMLElement>) {\n    const style = {...oriPos}\n    const offsetX = e.clientX - oriPos.cX;\n    const offsetY = e.clientY - oriPos.cY;\n\n    switch (direction) {\n      // move\n      case 'move' :\n          // element position and offset\n          const top = oriPos.top + offsetY;\n          const left = oriPos.left + offsetX;\n          const width = dragBox.current?.offsetWidth || 0;\n          const height = dragBox.current?.offsetHeight || 0;\n          // Limit the height of the artboard - the height of the element - that must be moved within this range\n          style.top = Math.max(0, Math.min(top, height - style.height));\n          style.left = Math.max(0, Math.min(left, width - style.width));\n          break\n      // east\n      case 'e':\n          // Drag to the right to add width\n          style.width += offsetX;\n          return style\n      // west\n      case 'w':\n        // Increase the width, position synchronization left shift\n        style.width -= offsetX;\n        style.left += offsetX;\n        return style\n      // south\n      case 's':\n          style.height += offsetY;\n          return style\n      // north\n      case 'n':\n          style.height -= offsetY;\n          style.top += offsetY;\n          break\n      // northeast\n      case 'ne':\n          style.height -= offsetY;\n          style.top += offsetY;\n          style.width += offsetX;\n          break\n      // northwest\n      case 'nw':\n          style.height -= offsetY;\n          style.top += offsetY;\n          style.width -= offsetX;\n          style.left += offsetX; \n          break\n      // southeast\n      case 'se':\n          style.height += offsetY;\n          style.width += offsetX;\n          break\n      // southwest\n      case 'sw':\n          style.height += offsetY;\n          style.width -= offsetX;\n          style.left += offsetX;\n          break\n      case 'rotate':\n        // The center point of the element, x, y, is calculated as the coordinate origin first\n        const x = style.width / 2 + style.left;\n        const y = style.height / 2 + style.top;\n        // The current mouse coordinates\n        const x1 = e.clientX;\n        const y1 = e.clientY;\n        // Using triangular functions, there are bugs to optimize\n        style.transform = `rotate(${getTanDeg((y1 - y) / (x1 - x))}deg)`;\n        break\n    }\n    return style\n  }\n\n  useEffect(() => {\n    dragBox.current = (typeof container === 'object' ? container : document.querySelector(container)) as HTMLElement;\n    if(['relative', 'absolute', 'fixed'].indexOf(dragBox.current.style.position) < 0) {\n      dragBox.current.style.position = 'relative';\n    }\n    dragBox.current.addEventListener('mouseup', onMouseUp, false)\n    dragBox.current.addEventListener('mousemove', onMouseMove, false)\n    return () => {\n      // remove listener\n    }\n  }, [])\n  \n  return <div className=\"drag-item-wrap\">\n    {\n      isStatic ? <div className=\"x-drag-item\" style={style}>{ children }</div>\n        :\n        <div className=\"x-drag-item\" style={style} onMouseDown={(e) => onMouseDown('move', e)}>\n          { children }\n          {\n            !isStatic && points.map(item => <div className={classnames('control-point', `point-${item}`)} key={item} onMouseDown={(e:React.MouseEvent<HTMLElement>) => onMouseDown(item as PosMap, e)}></div>)\n          }\n          {/* <div className={classnames('control-point', 'control-rotator')} onMouseDown={(e) => onMouseDown('rotate', e)}></div> */}\n        </div>\n    }\n  </div>\n}\n\nexport default memo(Drag)\n\n"]}]}